[README.md](https://github.com/user-attachments/files/24397168/README.md)
# 🚆 Tokyo Train Transfer & English Conversation Practice App

**夜間中学校 中学2年生向け 英語学習アプリケーション**  
**English Learning Application for Night School 2nd Year Junior High Students**  
**កម្មវិធីរៀនភាសាអង់គ្លេសសម្រាប់សិស្សថ្នាក់ទី២វិទ្យាល័យយប់**

---

## 📱 アプリケーション概要 / Application Overview

このアプリケーションは、夜間中学校の中学2年生が東京の電車の乗り換えを学びながら、実用的な英語会話を練習できるインタラクティブな学習ツールです。

This is an interactive learning tool where night school 2nd-year junior high students can practice practical English conversations while learning how to transfer trains in Tokyo.

នេះគឺជាឧបករណ៍រៀនអន្តរកម្មដែលសិស្សថ្នាក់ទី២វិទ្យាល័យយប់អាចអនុវត្តការសន្ទនាភាសាអង់គ្លេសជាក់ស្តែងខណៈពេលរៀនពីការផ្លាស់ប្តូររថភ្លើងនៅទីក្រុងតូក្យូ។

---

## ✨ 主な機能 / Main Features / មុខងារសំខាន់ៗ

### 🎯 1. **Conversation Practice Mode** / **会話練習モード** / **របៀបអនុវត្តការសន្ទនា**

4つの実際の会話シナリオで英語を学習：

#### **Scenario 1: Basic Question** / **基本的な質問**
- 2つの会話フロー
- 基本的な道案内の質問と回答
- **駅員の回答は緑の左線**（乗り換えなし・直通ルート）
- 例：「Could you tell me how to get to Asakusa?」

#### **Scenario 2: Polite Conversation** / **丁寧な会話**
- 3つの会話フロー
- 「Excuse me」や「Thank you」を使った丁寧な表現
- **駅員の回答は緑の左線**（乗り換えなし・直通ルート）
- 礼儀正しいコミュニケーション

#### **Scenario 3: Transfer Route** / **乗り換えルート**
- 4つの会話フロー
- 乗り換えが必要なルートの説明
- **駅員の回答は青の左線**（乗り換えあり）
- 「Which line should I take?」などの追加質問

#### **Scenario 4: Complete Polite Transfer** / **完全な丁寧な乗り換え会話**
- 5つの会話フロー
- 全ての要素を含む完全な会話パターン
- **駅員の回答は青の左線**（乗り換えあり）
- 実際の駅で使える実用的な英語

### 📚 **Interactive Learning Features** / **インタラクティブ学習機能**

- **White dialogue boxes**: 全ての会話（シンプルで読みやすい）
- **Orange left border + A label**: A（質問者・旅行者）
- **Teal/Green left border + B label**: B（回答者・駅員）
- **Red highlight for line names**: 路線名を赤色で強調表示
- **Furigana support**: 難しい漢字にふりがな表示
- **Vocabulary highlighting**: 重要な単語を太字で強調
- **Step-by-step progression**: ステップごとに会話を表示
- **Audio playback**: 英語の発音を聞くことができる

**色分けの教育的意義：**
- 🟧 **A（オレンジ）** = 質問者（あなた）
- 🟢 **B（ティール/グリーン）** = 回答者（駅員）
- 🔴 **赤の強調** = 路線名（最も重要な情報）

### 🎓 **Practice Exercises** / **練習問題**

#### **1. Multiple Choice Quiz** / **多肢選択クイズ**
- 各シナリオに関連する質問
- 即座のフィードバックと解説
- スコア追跡機能

#### **2. Fill in the Blank** / **穴埋め問題**
- 重要な単語を入力して学習
- ヒント付き
- 正解の詳しい解説

#### **3. Role Play Mode** / **ロールプレイモード**
- 会話全体を声に出して練習
- 各セリフの音声再生機能
- 録音機能（マイクアクセス許可が必要）

### 🗺️ **Route Finder** / **乗り換え案内**

東京の13の有名な場所：
- 秋葉原 (Akihabara)
- 東京 (Tokyo)
- 新宿 (Shinjuku)
- 原宿 (Harajuku)
- 自由が丘 (Jiyugaoka)
- 渋谷 (Shibuya)
- 銀座 (Ginza)
- 新橋 (Shimbashi)
- お台場 (Odaiba)
- 六本木 (Roppongi)
- 下北沢 (Shimokitazawa)
- 浅草 (Asakusa)
- 上野 (Ueno)

**機能：**
- 出発地と目的地を選択
- **選択駅の視覚的識別（NEW! ✨）**:
  - 🚉 **出発駅（FROM）**: 緑色の枠線・背景、「🚉 出発地 FROM」バッジ、パルスアニメーション効果
  - 🎯 **目的地駅（TO）**: 赤色の枠線・背景、「🎯 目的地 TO」バッジ、パルスアニメーション効果
  - 📍 **上部の選択表示**: 選択された駅は大きく表示され、背景色とアニメーションで強調
- **スマート選択機能**: 出発地を選ぶと、行ける場所だけが明るく表示され、行けない場所は自動的にグレーアウト
- **視覚的ルート表示**: 
  - 🟢 **緑色のバッジ「乗り換えなし/Direct」**: 直通で行ける駅
  - 🟠 **オレンジ色のバッジ「乗り換えあり/Transfer」**: 乗り換えが必要な駅
  - ⚫ **グレーアウト**: 行けない駅
- 最適なルートを自動計算
- 直通ルートと乗り換えルートに対応
- 所要時間、運賃、プラットフォーム番号を表示
- **🆕 重要情報の色分け表示**:
  - 🔴 **路線名**: 赤色で強調（最重要情報）
  - 🔴 **目的地名**: 赤色で強調
  - 🔴 **乗り換え駅名**: 赤色で強調
- **🆕 やさしい日本語とクメール語サポート（NEW! ✨）**:
  - 全ての表示をやさしい日本語に変更（ひらがな・カタカナ中心）
  - クメール語（カンボジア語）の翻訳を追加
  - 3言語表示：英語 / やさしい日本語 / クメール語（ភាសាខ្មែរ）
- 英語での会話例を表示（全ての重要な駅名・路線名を色分け）

### 📖 **Railway Vocabulary** / **鉄道用語集**

12の重要な鉄道用語：
- Station (駅)
- Platform (ホーム)
- Transfer (乗り換え)
- Ticket (切符)
- Train (電車)
- Line (線)
- Exit (出口)
- Entrance (入口)
- Fare (運賃)
- Destination (目的地)
- Timetable (時刻表)
- Express (急行)

各用語に英語、日本語、ふりがな、例文付き。

---

## 🎨 デザインの特徴 / Design Features

- **Comic Sans / Comic Neue font**: 親しみやすく読みやすいフォント
- **Colorful interface**: カラフルで視覚的に魅力的
- **Large text**: 大きくて見やすい文字サイズ
- **Smooth animations**: スムーズなアニメーション効果
- **Responsive design**: スマートフォン対応
- **Emoji support**: 絵文字で楽しく学習

### **Color Coding** / **色分け**

**会話画面：**
- ⬜ **White boxes**: 全ての会話（クリーンなデザイン）
- 🟧 **Orange left border + label**: A（質問・旅行者の会話）
- 🟢 **Teal/Green left border + label**: B（回答・駅員の会話）
- 🔴 **Red highlight**: 路線名（最重要情報）

**ルート選択画面：**
- 🟩 **Green**: 出発地、成功メッセージ、直通ルート
- 🟥 **Red**: 目的地、エラーメッセージ、**路線名の強調表示（NEW! ✨）**
- 🟧 **Orange**: 乗り換えが必要なルート
- 🟪 **Purple**: メインカラー、背景グラデーション
- ⚫ **Gray (grayed out)**: 行けない場所（自動表示）

---

## 📂 ファイル構成 / File Structure

```
project/
├── index.html              # メインHTMLファイル
├── css/
│   └── style.css          # スタイルシート（カラフルデザイン）
├── js/
│   ├── data.js            # 会話データ、場所データ、練習問題
│   ├── conversation.js    # 会話練習機能
│   └── main.js           # ルート検索、画面管理
└── README.md             # このファイル
```

---

## 🚀 使い方 / How to Use / របៀបប្រើប្រាស់

### **🌐 Google Sitesで使用する場合**

詳細な手順は [GOOGLE_SITES_SETUP.md](GOOGLE_SITES_SETUP.md) をご覧ください。

**簡単な手順：**
1. GitHubにファイルをアップロード
2. GitHub Pagesを有効化
3. Google Sitesの「埋め込み」機能でURLを追加

---

### **💻 ローカルで使用する場合**

### **Step 1: ウェルカム画面**
アプリを開くと3つのオプションが表示されます：
1. **Route Finder** - 乗り換え案内
2. **Conversation Practice** - 会話練習（NEW! ⭐）
3. **Railway Vocabulary** - 鉄道用語集

### **Step 2: 会話練習を選択**
1. 「Conversation Practice」ボタンをクリック
2. 4つのシナリオから1つを選択
3. 「Next」ボタンで会話を進める
4. 重要な単語が自動的にハイライトされます
5. 「Play Audio」で発音を聞く

### **Step 3: 練習問題に挑戦**
会話を学習した後、以下の練習モードで理解を深めます：
- **Multiple Choice Quiz**: 質問に答える
- **Fill in the Blank**: 空欄を埋める
- **Role Play Mode**: 声に出して練習

### **Step 4: 実際のルートを検索**
1. メニューから「Route Finder」を選択
2. **出発地をクリック**
   - 選択された駅は **緑色の枠線と背景** に変わります
   - 駅カードに **「🚉 出発地 FROM」バッジ** が表示されます
   - **パルスアニメーション効果** で選択駅が一目で分かります
   - 上部の選択ボックスも **緑色のグラデーション** に変化
3. **自動的にルート情報が表示されます：**
   - 🟢 **緑色のバッジ「乗り換えなし」**: 直通で行ける場所（緑の枠付き）
   - 🟠 **オレンジ色のバッジ「乗り換えあり」**: 乗り換えが必要な場所（オレンジの枠付き）
   - ⚫ **グレーアウト**: 行けない場所（選択不可）
4. **目的地をクリック**
   - 選択された駅は **赤色の枠線と背景** に変わります
   - 駅カードに **「🎯 目的地 TO」バッジ** が表示されます
   - **パルスアニメーション効果** で選択駅が一目で分かります
   - 上部の選択ボックスも **赤色のグラデーション** に変化
5. 「Find Route」をクリック
6. 詳細なルート案内と英語の会話例を確認

---

## 🎯 学習目標 / Learning Objectives

### **英語スキル**
- ✅ 丁寧な質問の仕方を学ぶ
- ✅ 道案内で使う実用的な表現を習得
- ✅ 鉄道関連の語彙を増やす
- ✅ リスニングとスピーキングの練習

### **生活スキル**
- ✅ 東京の電車システムの理解
- ✅ 乗り換えの方法を学ぶ
- ✅ 自立した移動能力の育成
- ✅ 実際の場面で使えるコミュニケーション能力

---

## 🌟 教育的価値 / Educational Value

### **中学2年生レベルに最適化**
- 簡単でわかりやすい英語表現
- 日本語訳とふりがな付き
- ステップバイステップの学習
- 繰り返し練習できる

### **実用性**
- 実際の東京の駅を使用
- 本物の路線名と情報
- 日常生活で役立つスキル
- 自信を持って英語を使える

### **インタラクティブ性**
- 自分のペースで学習
- 即座のフィードバック
- 楽しく学べるゲーム要素
- 視覚的・聴覚的学習サポート

---

## 🔊 音声機能 / Audio Features

### **Text-to-Speech (音声合成)**
- ブラウザの音声合成機能を使用
- 各会話を英語で読み上げ
- 速度を遅めに設定（学習者向け）
- 「Play Audio」ボタンで再生

### **録音機能 (Role Play Mode)**
- マイクを使って自分の声を録音
- 発音の練習に最適
- ブラウザのマイクアクセス許可が必要

---

## 💡 技術情報 / Technical Information

### **使用技術**
- **HTML5**: セマンティックな構造
- **CSS3**: モダンなスタイリング、グラデーション、アニメーション
- **JavaScript (ES6+)**: インタラクティブ機能
- **Web Speech API**: 音声再生と録音
- **Font Awesome**: アイコン
- **Google Fonts**: Comic Neue, Noto Sans JP

### **ブラウザ対応**
- ✅ Chrome (推奨)
- ✅ Firefox
- ✅ Safari
- ✅ Edge
- ✅ モバイルブラウザ

### **特別な機能**
- 📱 レスポンシブデザイン
- 🎤 音声合成 (Web Speech API)
- 🎙️ マイク録音 (MediaRecorder API)
- 🎨 CSS グラデーションとアニメーション
- 📊 プログレスバー表示

---

## 📋 今後の開発予定 / Future Development

### **未実装の機能**
現在、以下の機能は完全に実装されています：
- ✅ 4つの会話シナリオ
- ✅ 3つの練習モード
- ✅ 乗り換え案内機能
- ✅ 音声再生機能

### **今後追加したい機能**
- 🔄 より多くの会話シナリオ
- 🗺️ より多くの東京の駅
- 🏆 成績追跡とバッジシステム
- 👥 クラス全体での進捗管理（先生向け）
- 📝 印刷可能なワークシート
- 🎮 ゲーミフィケーション要素

---

## 🎯 新機能の詳細 / New Feature Details

### **視覚的ルート表示システム**

出発地を選択すると、各駅に**自動的にバッジ**が表示されます：

#### **🟢 緑色バッジ「乗り換えなし / Direct」**
- **意味**: この駅へは直通で行けます
- **表示**: 緑色の枠線 + 緑色のバッジ
- **アイコン**: ✓ チェックマーク
- **例**: 秋葉原 → 東京、渋谷 → 原宿

#### **🟠 オレンジ色バッジ「乗り換えあり / Transfer」**
- **意味**: この駅へは乗り換えが必要です
- **表示**: オレンジ色の枠線 + オレンジ色のバッジ
- **アイコン**: ⇄ 乗り換えマーク
- **例**: 秋葉原 → 浅草（上野で乗り換え）

#### **⚫ グレーアウト（バッジなし）**
- **意味**: この駅へは行けません
- **表示**: 白黒 + 透明度30%
- **状態**: クリック不可
- **例**: データにないルート

---

### **🆕 選択駅の視覚的識別システム（NEW! ✨）**

選択された駅は、一目で分かるように**複数の視覚効果**で強調表示されます：

#### **🚉 出発駅（FROM）の視覚効果**
- **📍 駅カードの変化**:
  - **緑色の4px太枠線**（目立つ境界線）
  - **淡い緑色の背景**（#E8F5E9）
  - **1.08倍に拡大**（他のカードより大きく）
  - **パルスアニメーション**（2秒周期で光る効果）
  
- **🏷️ バッジ表示**:
  - 左上に **「🚉 出発地 FROM」** バッジ
  - **緑のグラデーション背景**
  - **影付き**（立体的な表示）
  
- **📊 上部選択ボックス**:
  - 緑のグラデーション背景に変化
  - **バウンスアニメーション**（選択時）
  - **駅名と絵文字**（🚉）を大きく表示

#### **🎯 目的地駅（TO）の視覚効果**
- **📍 駅カードの変化**:
  - **赤色の4px太枠線**（目立つ境界線）
  - **淡い赤色の背景**（#FFEBEE）
  - **1.08倍に拡大**（他のカードより大きく）
  - **パルスアニメーション**（2秒周期で光る効果）
  
- **🏷️ バッジ表示**:
  - 左上に **「🎯 目的地 TO」** バッジ
  - **赤のグラデーション背景**
  - **影付き**（立体的な表示）
  
- **📊 上部選択ボックス**:
  - 赤のグラデーション背景に変化
  - **バウンスアニメーション**（選択時）
  - **駅名と絵文字**（🎯）を大きく表示

#### **✨ アニメーション効果の詳細**

**パルスアニメーション（選択された駅カード）**:
```
0秒 → 影が小さい状態
1秒 → 影が大きく広がる（強調）
2秒 → 影が小さい状態に戻る
繰り返し...
```

**バウンスアニメーション（上部選択ボックス）**:
```
選択時 → 1倍のサイズ
0.25秒後 → 1.12倍に拡大（ポップアップ効果）
0.5秒後 → 1.08倍で安定
```

#### **🎓 教育的メリット（視覚的識別）**

✅ **選択ミスを防ぐ**
- どの駅を選んだか一目で分かる
- 出発駅と目的地を混同しない
- 選択をやり直すのが簡単

✅ **学習効率が上がる**
- 視覚的なフィードバックで安心感
- 色で役割が直感的に理解できる
- アニメーションで注目を集める

✅ **認知的負荷を軽減**
- 複数の視覚的手がかり（色・形・アニメーション）
- 文字が読めなくても色と絵文字で理解可能
- ユニバーサルデザインの原則に基づく

### **教育的メリット**

✅ **生徒が簡単に理解できる**
- 色で直感的にわかる
- **会話画面**: 緑の線 = 簡単（直通）、青の線 = 少し複雑（乗り換え）
- **ルート選択**: 緑の枠 = 簡単（直通）、オレンジの枠 = 少し複雑（乗り換え）
- グレー = 行けない

✅ **段階的な学習**
- Scenario 1, 2（緑の線）で基礎を学習
- Scenario 3, 4（青の線）で応用を学習
- 難易度が色で視覚的にわかる

✅ **選択ミスを防ぐ**
- 行けない場所はクリックできない
- アラートで親切に教えてくれる

✅ **学習効率が上がる**
- どのルートが簡単か一目瞭然
- 乗り換えの練習もできる

---

## 👨‍🏫 先生方へ / For Teachers

### **授業での活用方法**

#### **1. 導入授業（15分）**
- Railway Vocabularyで基本用語を学習
- 各単語の発音練習

#### **2. 会話練習（20分）**
- Scenario 1から順番に学習（緑色の回答＝簡単な直通ルートから）
- Scenario 3, 4で乗り換えを学習（青色の回答＝少し複雑）
- クラス全体で音声を聞く
- ペアでロールプレイ

#### **3. 練習問題（15分）**
- Multiple Choice Quizで理解度確認
- Fill in the Blankで語彙を定着

#### **4. 実践演習（10分）**
- Route Finderで実際のルートを検索
- 学んだ英語を使って説明

### **評価のポイント**
- 📊 練習問題のスコア
- 🗣️ ロールプレイの発音と流暢さ
- 📝 重要語彙の理解度
- 🎯 実際のシナリオへの応用力

---

## 🎓 生徒の皆さんへ / For Students

### **効果的な学習方法**

1. **毎日少しずつ練習**
   - 1日1シナリオをじっくり学習
   - 音声を何度も聞いて真似する

2. **声に出して練習**
   - Role Play Modeを活用
   - 自信を持って大きな声で

3. **実際に使ってみる**
   - 電車に乗るときに思い出す
   - 家族や友達に教える

4. **繰り返しが大切**
   - 同じシナリオを何度も練習
   - 完璧に覚えるまで続ける

### **応援メッセージ**
英語は練習すればするほど上手になります！  
間違いを恐れずに、楽しく学びましょう！  
このアプリを使って、自信を持って英語を話せるようになってください！

**You can do it! 頑張ってください！ 💪✨**

---

## 📞 サポート / Support

### **よくある質問**

**Q: 音声が再生されません**  
A: ブラウザの設定で音声がミュートになっていないか確認してください。

**Q: 録音機能が使えません**  
A: ブラウザのマイクアクセス許可を有効にしてください。

**Q: スマートフォンで使えますか？**  
A: はい！レスポンシブデザインでスマートフォンにも対応しています。

**Q: オフラインで使えますか？**  
A: 一度ページを読み込めば、基本的な機能はオフラインでも使用できます。

---

## 📄 ライセンス / License

このアプリケーションは夜間中学校の生徒の学習支援を目的として作成されました。  
教育目的での使用を歓迎します。

**Made with ❤️ for Night School Students**  
**夜間中学校の生徒のために作成**

---

## 🎉 完成した機能一覧 / Completed Features

### ✅ **Conversation Practice Mode**
- 4つの実際の会話パターン
- 黄色（質問）と青色（回答）の対話ボックス
- ふりがな表示
- 重要語彙のハイライト
- ステップインジケーター
- 音声再生機能

### ✅ **Practice Exercises**
- Multiple Choice Quiz（多肢選択）
- Fill in the Blank（穴埋め）
- Role Play Mode（ロールプレイ）
- スコア表示と即座のフィードバック

### ✅ **Route Finder**
- 13の東京の場所（実際の写真使用）
- **スマート選択システム**: 出発地選択後、到達可能な場所のみ明るく表示
- **視覚的ルート表示バッジ**:
  - 🟢 緑色「乗り換えなし/Direct」: 直通ルート
  - 🟠 オレンジ色「乗り換えあり/Transfer」: 乗り換えルート
  - ⚫ グレーアウト: 行けない場所
- **色付きの枠線**: 直通は緑、乗り換えはオレンジで一目瞭然
- 直通ルートと乗り換えルート対応
- 詳細な案内（時間・運賃・プラットフォーム）
- 英語の会話例表示

### ✅ **Railway Vocabulary**
- 12の重要な鉄道用語
- 英語・日本語・ふりがな・例文付き

### ✅ **Visual Design**
- カラフルで親しみやすいデザイン
- 大きくて読みやすいフォント
- スムーズなアニメーション
- レスポンシブ対応

---

## 🚀 デプロイ / Deployment

アプリケーションを公開するには：

1. **Publishタブ**に移動
2. 「Publish」ボタンをクリック
3. 生成されたURLを生徒と共有

公開後、生徒はブラウザからいつでもアクセスして学習できます！

---

**Happy Learning! 楽しく学びましょう！ 🎓✨**
